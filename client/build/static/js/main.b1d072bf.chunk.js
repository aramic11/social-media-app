(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{135:function(e,t){},136:function(e,t){},137:function(e,t){},138:function(e,t){},177:function(e,t,n){},179:function(e,t,n){"use strict";n.r(t);var a=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,248)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,o=t.getLCP,c=t.getTTFB;n(e),a(e),r(e),o(e),c(e)}))},r=n(0),o=n.n(r),c=n(18),i=n.n(c),s=n(143),l=n(240),d=n(241),m=n(238),u=n(144),j=n(54),b=n(21),p=n(230),O=n(26),x=n(11),h={user:null},g=function(e,t){switch(t.type){case"LOGIN":return Object(O.a)(Object(O.a)({},e),{},{user:t.payload});case"LOGOUT":return Object(O.a)(Object(O.a)({},e),h);default:return e}},f=n(128),v=n(3),y={user:null};if(localStorage.getItem("token")){var C=Object(f.a)(localStorage.getItem("token"));1e3*C.exp<Date.now()?localStorage.removeItem("token"):y.user=C}var k,w,S,I,N,L,$,F,B,D,A=Object(r.createContext)({user:null}),T=function(e){var t=Object(r.useReducer)(g,y),n=Object(x.a)(t,2),a=n[0],o=n[1];return Object(v.jsx)(A.Provider,Object(O.a)({value:{user:a.user,login:function(e){localStorage.setItem("token",e.authToken),o({type:"LOGIN",payload:e})},logout:function(){localStorage.removeItem("token"),o({type:"LOGOUT"})}}},e))},W=n(31),U=n(43),M=n(247),P=n(213),q=n(210),z=n(142),E=Object(q.a)((function(e){return{root:{maxWidth:1200,position:"relative",margin:"7% 15% 5% 15%"},title:{padding:"3% 0% 0% 3%"},username:{display:"inline-block",padding:"0% 3%",marginBottom:"2%"},makeComment:{maxWidth:1200,position:"relative",margin:"5% 15% 5% 15%"},comment:{maxWidth:1200,position:"relative",margin:"3% 15% 3% 15%"},inputField:{margin:"2.5% 2.5% 1.5% 2.5%"},date:{display:"inline-block",paddingLeft:"10"},media:{paddingTop:"100%",marginBottom:"5%"},content:{paddingLeft:"3%"},like:{paddingLeft:"1%"},commentUsername:{display:"inline-block",padding:"2% 3%"},commentContent:{padding:"0% 0% 1% 3%"},optionButtonOverlay:{position:"absolute",top:"1%",right:"5px"},deleteButtonOverlay:{position:"absolute",top:"58%",right:"3px"}}})),G=Object(z.a)({overrides:{MuiCardActions:{root:{padding:"1.5px"}},MuiCardContent:{root:{padding:"0","&:last-child":{paddingBottom:0}}},MuiIconButton:{root:{fontSize:"0"}},MuiFormControl:{marginNormal:{marginTop:0,marginBottom:"8px"}},MuiTypography:{h6:{fontFamily:"Arial, sans-serif",fontSize:"1.3rem",color:"#4791db"},h5:{fontFamily:"Arial, sans-serif",color:"#f44336",fontSize:"3rem",textAlign:"center"}}},palette:{primary:{main:"#4791db"},secondary:{main:"#f44336"}}}),H=n(224),R=n(23),V=n(24),Y=Object(V.a)(k||(k=Object(R.a)(["\n  query getPost($postId: ID!) {\n    getPost(postId: $postId) {\n      id\n      imageUrl\n      title\n      content\n      dateCreated\n      username\n      postLikes {\n        id\n        username\n        dateCreated\n      }\n      postLikeCount\n      comments {\n        id\n        content\n        dateCreated\n        username\n        commentLikes {\n          id\n          username\n          dateCreated\n        }\n        commentLikeCount\n      }\n    }\n  }\n"]))),Q=Object(V.a)(w||(w=Object(R.a)(["\n  mutation createComment($postId: String!, $content: String!) {\n    createComment(postId: $postId, content: $content) {\n      id\n      comments {\n        id\n        content\n        dateCreated\n        username\n        commentLikes {\n          id\n          username\n          dateCreated\n        }\n        commentLikeCount\n      }\n      commentCount\n    }\n  }\n"]))),J=n(85),Z=n.n(J),K=n(214),X=n(245),_=n(218),ee=n(86),te=n.n(ee),ne=Object(V.a)(S||(S=Object(R.a)(["\n  mutation likePost($postId: ID!) {\n    likePost(postId: $postId) {\n      id\n      postLikes {\n        id\n        username\n        dateCreated\n      }\n      postLikeCount\n    }\n  }\n"]))),ae=function(e){var t=e.user,n=e.post,a=n.id,o=n.postLikes,c=Object(r.useState)(!1),i=Object(x.a)(c,2),s=i[0],l=i[1];Object(r.useEffect)((function(){l(!!t&&o.some((function(e){return e.username===t.username})))}),[t,o]);var d=Object(P.a)(ne,{variables:{postId:a}}),m=Object(x.a)(d,1)[0],u=Object(v.jsx)(K.a,{"aria-label":"like",onClick:t?function(){m(),l(!s)}:void 0,disabled:!t,children:Object(v.jsx)(X.a,{title:s?"Unlike":"Like",placement:"top",children:Object(v.jsx)(te.a,{color:s?"secondary":"disabled"})})});return Object(v.jsx)(_.a,{children:u})},re=Object(V.b)(I||(I=Object(R.a)(["\n  mutation likeComment($postId: ID!, $commentId: ID!) {\n    likeComment(postId: $postId, commentId: $commentId) {\n      id\n      comments {\n        id\n        commentLikes {\n          id\n          username\n        }\n        commentLikeCount\n      }\n    }\n  }\n"]))),oe=function(e){var t=e.user,n=e.postId,a=e.commentId,o=e.comment,c=Object(r.useState)(!1),i=Object(x.a)(c,2),s=i[0],l=i[1];Object(r.useEffect)((function(){var e=t&&o.commentLikes.some((function(e){return e.username===t.username}));l(e)}),[t,o.commentLikes]);var d=Object(P.a)(re,{variables:{postId:n,commentId:a}}),m=Object(x.a)(d,1)[0],u=t?Object(v.jsx)(K.a,{"aria-label":"like",color:s?"secondary":"default",onClick:function(){m(),l(!s)},children:Object(v.jsx)(te.a,{})}):Object(v.jsx)(K.a,{"aria-label":"like",href:"/login",children:Object(v.jsx)(te.a,{color:"disabled"})});return Object(v.jsx)(_.a,{children:u})},ce=n(242),ie=n(145),se=n(246),le=n(244),de=n(219),me=n(220),ue=n(221),je=n(132),be=n.n(je),pe=Object(V.a)(N||(N=Object(R.a)(["\n  mutation deletePost($postId: ID!) {\n    deletePost(postId: $postId)\n  }\n"]))),Oe=Object(q.a)((function(e){return{optionButton:{display:"block",marginTop:e.spacing(3)},formControl:{margin:e.spacing(2),minWidth:120},deleteButtonOverlay:{position:"absolute",top:"60%",right:"4px"}}})),xe=Oe,he=function(e){var t=e.user,n=e.post,a=n.id,o=(n.username,Object(r.useState)(null)),c=Object(x.a)(o,2),i=c[0],s=c[1],l=Object(r.useState)(!1),d=Object(x.a)(l,2),m=d[0],u=d[1],j=Object(r.useState)(""),b=Object(x.a)(j,2),p=b[0],O=b[1],h=xe(),g=Object(P.a)(pe),f=Object(x.a)(g,1)[0],y=function(){u(!1)},C=function(){var e=Object(U.a)(Object(W.a)().mark((function e(){return Object(W.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f({variables:{postId:a}});case 3:window.location.assign("/"),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),O(e.t0.graphQLErrors[0].message);case 9:y();case 10:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}();return Object(v.jsx)("div",{children:t&&Object(v.jsxs)("div",{children:[Object(v.jsx)(be.a,{"aria-controls":"simple-menu","aria-haspopup":"true",onClick:function(e){s(e.currentTarget)}}),Object(v.jsxs)(ie.a,{id:"simple-menu",anchorEl:i,keepMounted:!0,open:Boolean(i),onClose:function(){s(null)},children:[Object(v.jsx)(se.a,{onClick:function(){u(!0)},children:"Delete post"}),p&&Object(v.jsx)(ce.a,{severity:"error",className:h.error,children:p})]}),Object(v.jsxs)(le.a,{open:m,onClose:y,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(v.jsx)(de.a,{id:"alert-dialog-title",children:"Are you sure you want to delete this post?"}),Object(v.jsxs)(me.a,{children:[Object(v.jsx)(ue.a,{onClick:y,color:"primary",children:"No"}),Object(v.jsx)(ue.a,{onClick:C,color:"primary",autoFocus:!0,children:"Yes"})]})]})]})})},ge=Object(V.a)(L||(L=Object(R.a)(["\n  mutation deleteComment($postId: ID!, $commentId: ID!) {\n    deleteComment(postId: $postId, commentId: $commentId) {\n      id        \n      comments { \n        id\n        username\n      }\n    }\n  }\n"]))),fe=n(133),ve=n.n(fe),ye=n(222),Ce=function(e){var t=e.open,n=e.onClose,a=e.onConfirm;return Object(v.jsxs)(le.a,{open:t,onClose:n,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(v.jsx)(de.a,{id:"alert-dialog-title",children:"Are you sure you want to delete this comment?"}),Object(v.jsxs)(me.a,{children:[Object(v.jsx)(ue.a,{onClick:n,color:"primary",children:"No"}),Object(v.jsx)(ue.a,{onClick:a,color:"primary",autoFocus:!0,children:"Yes"})]})]})},ke=function(e){var t=e.postId,n=e.commentId,a=e.onComplete,o=Object(P.a)(ge),c=Object(x.a)(o,2),i=c[0],s=c[1],l=s.loading,d=s.error,m=Object(r.useState)(!1),u=Object(x.a)(m,2),j=u[0],b=u[1],p=function(){b(!1)},O=function(){var e=Object(U.a)(Object(W.a)().mark((function e(){return Object(W.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i({variables:{postId:t,commentId:n}});case 3:a(),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.error(e.t0);case 9:p();case 10:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}();return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(ve.a,{variant:"outlined",onClick:function(){b(!0)}}),Object(v.jsx)(Ce,{open:j,onClose:p,onConfirm:O}),l&&Object(v.jsx)(ye.a,{}),d&&Object(v.jsx)("div",{children:d.message})]})},we=n(225),Se=n(226),Ie=n(150),Ne=n(227),Le=n(239),$e=function(e){var t,n=E(),a=e.match.params.postId,o=Object(r.useContext)(A).user,c=Object(M.a)(Y,{variables:{postId:a}}),i=c.loading,s=c.data,l=(void 0===s?{}:s).getPost,d=Object(r.useState)(""),m=Object(x.a)(d,2),u=m[0],j=m[1],b=Object(P.a)(Q),p=Object(x.a)(b,1)[0],O=function(){var e=Object(U.a)(Object(W.a)().mark((function e(t){return Object(W.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p({variables:{postId:a,content:u}});case 3:j(""),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.error(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}();if(i)t=Object(v.jsx)(ye.a,{});else{var h=l.id,g=l.content,f=l.title,y=l.dateCreated,C=l.username,k=l.imageUrl,w=l.postLikes,S=l.postLikeCount,I=l.comments;t=Object(v.jsx)("div",{children:Object(v.jsxs)(H.a,{theme:G,children:[Object(v.jsx)(we.a,{className:n.root,children:Object(v.jsxs)(Se.a,{children:[Object(v.jsx)(Ie.a,{gutterBottom:!0,variant:"h5",component:"h2",className:n.title,children:f}),Object(v.jsx)(Ie.a,{variant:"body2",color:"textSecondary",component:"h2",className:n.username,children:C}),Object(v.jsx)(Ie.a,{variant:"body2",color:"textSecondary",component:"h2",className:n.date,children:Z()(y).fromNow()}),Object(v.jsx)(Ne.a,{className:n.media,image:k||"https://images.unsplash.com/photo-1601850494422-3cf14624b0b3?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=870&q=80"}),Object(v.jsx)(Ie.a,{variant:"h6",component:"h2",className:n.content,children:g}),Object(v.jsxs)(_.a,{className:n.like,children:[Object(v.jsx)(ae,{user:o,post:{id:h,postLikes:w,postLikeCount:S}}),Object(v.jsx)(Ie.a,{variant:"body2",color:"textSecondary",children:S}),Object(v.jsx)(K.a,{"aria-label":"settings",className:n.optionButtonOverlay,children:Object(v.jsx)(he,{user:o,post:{id:h,username:C}})})]})]})}),o&&Object(v.jsx)(we.a,{className:n.makeComment,children:Object(v.jsxs)(Se.a,{className:n.inputField,children:[Object(v.jsx)(Le.a,{variant:"outlined",margin:"normal",label:"Post a comment",name:"comment",size:"small",required:!0,fullWidth:!0,onChange:function(e){return j(e.target.value)},value:u}),Object(v.jsx)(ue.a,{type:"submit",variant:"contained",color:"primary",disabled:""===u.trim(),onClick:O,children:"Submit"})]})}),I.map((function(e){return Object(v.jsx)(we.a,{className:n.comment,children:Object(v.jsxs)(Se.a,{children:[Object(v.jsx)(Ie.a,{variant:"body2",color:"textSecondary",component:"h2",className:n.commentUsername,children:e.username}),Object(v.jsx)(Ie.a,{variant:"body2",color:"textSecondary",component:"h2",className:n.date,children:Z()(e.dateCreated).fromNow()}),Object(v.jsx)(Ie.a,{variant:"h6",component:"h2",className:n.commentContent,children:e.content}),Object(v.jsxs)(_.a,{className:n.like,children:[Object(v.jsx)(oe,{user:o,postId:h,commentId:e.id,comment:e}),Object(v.jsx)(Ie.a,{variant:"body2",color:"textSecondary",children:e.commentLikeCount}),Object(v.jsx)(K.a,{"aria-label":"settings",className:n.deleteButtonOverlay,children:o&&o.username===e.username&&Object(v.jsx)(ke,{postId:h,commentId:e.id})})]})]})},e.id)}))]})})}return t},Fe=Object(V.a)($||($=Object(R.a)(["\n  {\n    getPosts {\n      id\n      imageUrl\n      title\n      content\n      dateCreated\n      username\n      postLikes {\n        id\n        username\n        dateCreated\n      }\n      postLikeCount\n      commentCount\n      comments {\n        id\n        content\n        dateCreated\n        username\n        commentLikes {\n          id\n          username\n          dateCreated\n        }\n        commentLikeCount\n      }\n    }\n  }\n"]))),Be=Object(q.a)((function(e){return{container:{borderRadius:15,display:"flex",flexDirection:"row",alignItems:"center",padding:"10px 50px",backgroundColor:"#E6F2F8",boxShadow:"0px 2px 4px rgba(0, 0, 0, 0.25)"},title:{padding:"5% 10%",color:"#3B5998",fontSize:"3rem",fontFamily:"Brush Script MT, cursive",textShadow:"1px 1px #8b9dc3"}}})),De=Object(z.a)({overrides:{MuiTypography:{h3:{fontFamily:"Nunito, sans-serif",fontWeight:"bold",color:"#3B5998",textShadow:"1px 1px #8b9dc3"},h5:{fontFamily:"Roboto, sans-serif",fontWeight:"bold",color:"#3B5998",textShadow:"1px 1px #8b9dc3"}}},palette:{primary:{main:"#3B5998"},secondary:{main:"#8b9dc3"}}}),Ae=n(14),Te=Object(q.a)((function(e){return{root:{maxWidth:345,margin:"auto",transition:"0.3s",boxShadow:"0 8px 40px -12px rgba(0,0,0,0.3)","&:hover":{boxShadow:"0 16px 70px -12.125px rgba(0,0,0,0.3)"},position:"relative"},media:{paddingTop:"80%"},expand:{transform:"rotate(0deg)",marginLeft:"auto",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},expandOpen:{transform:"rotate(180deg)"},username:{display:"inline-block",paddingRight:"5%"},date:{display:"inline-block",paddingLeft:"5%"},comment:{marginTop:"1%",marginLeft:"6%"},overlay:{position:"absolute",top:"67.5%",left:"85.5%"},overrides:{MuiCardActions:{padding:"0px"}}}})),We=Object(z.a)({overrides:{MuiCardActions:{root:{padding:"1px"}},MuiCardContent:{root:{padding:"8px 16px"}},MuiIconButton:{root:{fontSize:"0"}},MuiTypography:{h6:{fontFamily:"Raleway, sans-serif"}}},palette:{primary:{main:"#4791db"},secondary:{main:"#F26B8A"}}}),Ue=n(113),Me=n.n(Ue),Pe=function(e){var t=e.user,n=e.post.comments,a=Object(r.useState)(!1),o=Object(x.a)(a,2),c=o[0],i=o[1];Object(r.useEffect)((function(){var e=t&&n.some((function(e){return e.username===t.username}));i(e)}),[t,n]);var s=c?Object(v.jsx)(Me.a,{color:"primary"}):Object(v.jsx)(Me.a,{color:"disabled"});return Object(v.jsx)(_.a,{children:s})},qe=n(6),ze=n(134),Ee=n.n(ze),Ge=n(87),He=n(228),Re=function(e){var t=e.post,n=t.id,a=t.imageUrl,c=t.title,i=t.content,s=t.dateCreated,l=t.username,d=t.postLikes,m=t.postLikeCount,u=t.commentCount,j=t.comments,b=Object(r.useContext)(A).user,p=o.a.useState(!1),O=Object(x.a)(p,2),h=O[0],g=O[1],f=Te();return Object(v.jsx)(H.a,{theme:We,children:Object(v.jsxs)(we.a,{className:f.root,children:[Object(v.jsx)(Ne.a,{className:f.media,image:a||"https://images.unsplash.com/photo-1601850494422-3cf14624b0b3?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=870&q=80"}),Object(v.jsxs)(Se.a,{children:[Object(v.jsx)(Ie.a,{gutterBottom:!0,variant:"h6",className:f.title,children:c.length>20?c.substring(0,20)+" ...":c}),Object(v.jsx)(Ie.a,{variant:"body2",color:"textSecondary",className:f.username,children:l}),Object(v.jsx)(Ie.a,{variant:"body2",color:"textSecondary",className:f.date,children:Z()(s).fromNow()}),Object(v.jsx)(K.a,{"aria-label":"settings",className:f.overlay,children:Object(v.jsx)(he,{user:b,post:{id:n,username:l}})})]}),Object(v.jsxs)(_.a,{disableSpacing:!0,children:[Object(v.jsx)(ae,{user:b,post:{id:n,postLikes:d,postLikeCount:m}}),Object(v.jsx)(Ie.a,{variant:"body2",color:"textSecondary",children:m}),Object(v.jsx)(K.a,{href:"/posts/".concat(n),className:f.comment,children:Object(v.jsx)(Pe,{user:b,post:{comments:j}})}),Object(v.jsx)(Ie.a,{variant:"body2",color:"textSecondary",children:u}),Object(v.jsx)(Ge.DonateApp,{}),Object(v.jsx)(K.a,{className:Object(qe.a)(f.expand,Object(Ae.a)({},f.expandOpen,h)),onClick:function(){g(!h)},"aria-expanded":h,"aria-label":"show more",children:Object(v.jsx)(Ee.a,{})})]}),Object(v.jsx)(He.a,{in:h,timeout:"auto",unmountOnExit:!0,children:Object(v.jsx)(Se.a,{children:Object(v.jsx)(Ie.a,{variant:"h6",className:f.content,children:i})})})]})})},Ve=n(229),Ye=function(){var e=Object(M.a)(Fe),t=e.loading,n=e.data,a=(void 0===n?{}:n).getPosts,r=Be();return t?Object(v.jsx)(ye.a,{}):a&&Object(v.jsx)(H.a,{theme:De,children:Object(v.jsxs)(Ve.a,{children:[Object(v.jsxs)(p.a,{component:"main",className:r.title,children:[Object(v.jsx)(Ie.a,{component:"h1",variant:"h3",align:"center",children:"Anime Home"}),Object(v.jsx)(Ie.a,{component:"h1",variant:"h5",align:"center",children:"Welcome to our collection of anime posts! Whether you're a long-time fan of the medium or just getting started, we're confident you'll find something here to pique your interest. So sit back, relax, and dive into the wonderful world of anime!"})]}),Object(v.jsx)(Ve.a,{className:r.container,container:!0,alignItems:"stretch",spacing:3,children:a.map((function(e){return Object(v.jsx)(Ve.a,{item:!0,xs:12,sm:6,md:4,children:Object(v.jsx)(Re,{post:e})},e.id)}))})]})})},Qe=Object(q.a)((function(e){return{root:{flexGrow:1},title:{textDecoration:"none",color:"white",flexGrow:1},button:{}}})),Je=Object(z.a)({palette:{primary:{main:"#e91e63",light:"#ff6090",dark:"#b0003a",contrastText:"#fff"}},overrides:{MuiAppBar:{colorPrimary:{background:"linear-gradient(45deg, #e91e63 0%, #9c27b0 50%, #673ab7 100%)"}}}}),Ze=n(231),Ke=n(232),Xe=function(){var e=Qe(),t=Object(r.useContext)(A);return t.user?Object(v.jsx)(H.a,{theme:Je,children:Object(v.jsx)("div",{className:e.root,children:Object(v.jsx)(Ze.a,{position:"static",children:Object(v.jsxs)(Ke.a,{children:[Object(v.jsx)(Ie.a,{component:j.b,to:"/",variant:"h6",className:e.title,children:t.user.username}),Object(v.jsx)(ue.a,{color:"inherit",component:j.b,to:"/chat",children:"Chat"}),Object(v.jsx)(ue.a,{color:"inherit",component:j.b,to:"/post",children:"Post"}),Object(v.jsx)(ue.a,{color:"inherit",onClick:t.logout,children:"Logout"}),Object(v.jsx)(Ge.DonateApp,{})]})})})}):Object(v.jsx)(H.a,{theme:Je,children:Object(v.jsx)("div",{className:e.root,children:Object(v.jsx)(Ze.a,{position:"static",children:Object(v.jsxs)(Ke.a,{children:[Object(v.jsx)(Ie.a,{component:j.b,to:"/",variant:"h6",className:e.title,children:"Home"}),Object(v.jsx)(ue.a,{color:"inherit",component:j.b,to:"/login",children:"Login"}),Object(v.jsx)(ue.a,{color:"inherit",component:j.b,to:"/register",children:"Register User"}),Object(v.jsx)(Ge.DonateApp,{component:j.b,to:"/donate"})]})})})})},_e=Object(q.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center",backgroundColor:"#F5F5F5",borderRadius:"15px",padding:"50px"},form:{width:"100%",marginTop:e.spacing(3),display:"flex",flexDirection:"column",alignItems:"center"},submit:{margin:e.spacing(3,0,2),backgroundColor:"#f44336",color:"#FFFFFF",borderRadius:"20px",padding:"10px 50px",fontSize:"1.5rem",fontFamily:"Arial, sans-serif",textTransform:"uppercase",boxShadow:"0px 4px 4px rgba(0, 0, 0, 0.25)"},error:{marginTop:"2%",fontFamily:"Arial, sans-serif",color:"#f44336",fontSize:"1.2rem"}}})),et=_e,tt=Object(q.a)((function(e){return{root:{height:"100vh"},image:{backgroundImage:"url(https://images.unsplash.com/photo-1528360983277-13d401cdc186?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=870&q=80)",backgroundColor:"light"===e.palette.type?e.palette.grey[50]:e.palette.grey[900],backgroundSize:"cover",backgroundPosition:"center"},paper:{margin:e.spacing(8,4),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:"#F26B8A"},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)},error:{margin:"1% 0% 3% 0%"}}})),nt=Object(z.a)({palette:{primary:{main:"#4791db"},secondary:{main:"#F26B8A"}},overrides:{MuiTypography:{h5:{fontFamily:"Cinzel Decorative, sans-serif",color:"#F26B8A"}}}}),at=Object(V.a)(F||(F=Object(R.a)(["\n  mutation createPost($title: String!, $content: String!, $imageUrl: String) {\n    createPost(title: $title, content: $content, imageUrl: $imageUrl) {\n      imageUrl\n      title\n      content\n    }\n  }\n"]))),rt=n(233),ot=function(){var e=et(),t=Object(r.useState)({title:"",content:"",imageUrl:""}),n=Object(x.a)(t,2),a=n[0],o=n[1],c=Object(r.useState)(""),i=Object(x.a)(c,2),s=i[0],l=i[1],d=a.title,m=a.content,u=a.imageUrl,j=function(e){var t=e.target,n=t.name,r=t.value;o(Object(O.a)(Object(O.a)({},a),{},Object(Ae.a)({},n,r)))},b=Object(P.a)(at),h=Object(x.a)(b,1)[0],g=function(){var e=Object(U.a)(Object(W.a)().mark((function e(t){return Object(W.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),d&&m){e.next=4;break}return l("Title and content are required"),e.abrupt("return");case 4:return l(""),e.prev=5,e.next=8,h({variables:Object(O.a)({},a)});case 8:window.location.assign("/"),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(5),l(e.t0.graphQLErrors[0].message);case 14:case"end":return e.stop()}}),e,null,[[5,11]])})));return function(t){return e.apply(this,arguments)}}();return Object(v.jsx)(H.a,{theme:nt,children:Object(v.jsxs)(p.a,{component:"main",maxWidth:"sm",children:[Object(v.jsx)(rt.a,{}),Object(v.jsxs)("div",{className:e.paper,children:[Object(v.jsx)(Ie.a,{component:"h1",variant:"h5",children:"Sharing a future adventure"}),Object(v.jsxs)("form",{noValidate:!0,className:e.form,onSubmit:g,children:[Object(v.jsx)(Le.a,{variant:"outlined",margin:"normal",label:"title",name:"title",autoFocus:!0,required:!0,fullWidth:!0,onChange:j,value:d}),Object(v.jsx)(Le.a,{variant:"outlined",margin:"normal",label:"content",name:"content",required:!0,fullWidth:!0,multiline:!0,onChange:j,value:m}),Object(v.jsx)(Le.a,{variant:"outlined",margin:"normal",name:"imageUrl",label:"imageUrl",size:"small",required:!0,fullWidth:!0,onChange:j,value:u}),Object(v.jsx)(ue.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit,children:"submit"}),s&&Object(v.jsx)(ce.a,{severity:"error",className:e.error,children:s})]})]})]})})},ct=Object(V.a)(B||(B=Object(R.a)(["\n  mutation login($username: String!, $password: String!) {\n    login(username: $username, password: $password) {\n      id\n      email\n      username\n      dateCreated\n      authToken\n    }\n  }\n"]))),it=n(149),st=n(234),lt=function(){var e=Object(r.useContext)(A),t=tt(),n=Object(r.useState)(""),a=Object(x.a)(n,2),o=a[0],c=a[1],i=Object(r.useState)({username:"",password:""}),s=Object(x.a)(i,2),l=s[0],d=s[1],m=l.username,u=l.password,j=Object(P.a)(ct),b=Object(x.a)(j,1)[0],p=function(e){var t=e.target,n=t.name,a=t.value;d(Object(O.a)(Object(O.a)({},l),{},Object(Ae.a)({},n,a)))},h=function(){var t=Object(U.a)(Object(W.a)().mark((function t(n){var a,r;return Object(W.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),m&&u){t.next=4;break}return c("All fields are required"),t.abrupt("return");case 4:return c(""),t.prev=5,t.next=8,b({variables:Object(O.a)({},l)});case 8:a=t.sent,r=a.data.login,e.login(r),window.location.assign("/"),t.next=17;break;case 14:t.prev=14,t.t0=t.catch(5),c(t.t0.graphQLErrors[0].message);case 17:case"end":return t.stop()}}),t,null,[[5,14]])})));return function(e){return t.apply(this,arguments)}}();return Object(v.jsx)(H.a,{theme:nt,children:Object(v.jsxs)(Ve.a,{container:!0,component:"main",className:t.root,children:[Object(v.jsx)(rt.a,{}),Object(v.jsx)(Ve.a,{item:!0,xs:!1,sm:4,md:7,className:t.image}),Object(v.jsx)(Ve.a,{item:!0,xs:12,sm:8,md:5,component:it.a,elevation:6,square:!0,children:Object(v.jsxs)("div",{className:t.paper,children:[Object(v.jsx)(Ie.a,{component:"h1",variant:"h5",children:"Login"}),Object(v.jsxs)("form",{className:t.form,noValidate:!0,onSubmit:h,children:[Object(v.jsx)(Le.a,{variant:"outlined",margin:"normal",label:"Username",name:"username",required:!0,fullWidth:!0,autoFocus:!0,onChange:p,value:m}),Object(v.jsx)(Le.a,{variant:"outlined",margin:"normal",name:"password",label:"Password",type:"password",required:!0,fullWidth:!0,onChange:p,value:u}),Object(v.jsx)(ue.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:t.submit,children:"Sign In"}),o&&Object(v.jsx)(ce.a,{severity:"error",className:t.error,children:o}),Object(v.jsx)(Ve.a,{container:!0,children:Object(v.jsx)(Ve.a,{item:!0,children:Object(v.jsx)(st.a,{href:"/Register",variant:"body2",children:"Don't have an account? Sign Up"})})})]})]})})]})})},dt=Object(V.a)(D||(D=Object(R.a)(["\n  mutation createUser($username: String!, $email: String!, $password: String!) {\n    createUser(username: $username, email: $email, password: $password) {\n      id\n      email\n      username\n      dateCreated\n      authToken\n    }\n  }\n"]))),mt=Object(q.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)},error:{marginTop:e.spacing(2)}}})),ut=function(){var e=mt(),t=Object(r.useState)(""),n=Object(x.a)(t,2),a=n[0],o=n[1],c=Object(r.useState)({username:"",email:"",password:""}),i=Object(x.a)(c,2),s=i[0],l=i[1],d=s.username,m=s.email,u=s.password,j=Object(r.useContext)(A),b=Object(P.a)(dt,{onError:function(e){o(e.graphQLErrors[0].message)}}),h=Object(x.a)(b,2),g=h[0],f=h[1].loading,y=function(e){var t=e.target,n=t.name,a=t.value;l(Object(O.a)(Object(O.a)({},s),{},Object(Ae.a)({},n,a)))},C=function(){if(!m||!d||!u)return"All fields are required";if(!/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(m).toLowerCase()))return"Enter a valid email address.";return/^(?!.*\.\.)(?!.*\.$)[^\W][\w.]{0,29}$/.test(d)?d.length>20?"Username no more than 20 characters":u.length<6?"Password min 6 characters":"":"Usernames can only use letters, numbers, underscores and periods"},k=function(){var e=Object(U.a)(Object(W.a)().mark((function e(t){var n,a,r,c;return Object(W.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!(n=C())){e.next=5;break}return o(n),e.abrupt("return",!1);case 5:return e.prev=5,e.next=8,g({variables:Object(O.a)({},s)});case 8:a=e.sent,r=a.data,c=r.createUser,j.login(c),window.location.assign("/"),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),o(e.t0.message);case 18:case"end":return e.stop()}}),e,null,[[5,15]])})));return function(t){return e.apply(this,arguments)}}();return Object(v.jsx)(H.a,{theme:nt,children:Object(v.jsxs)(p.a,{component:"main",maxWidth:"xs",children:[Object(v.jsx)(rt.a,{}),Object(v.jsxs)("div",{className:e.paper,children:[Object(v.jsx)(Ie.a,{component:"h1",variant:"h5",children:"Register"}),a&&Object(v.jsx)(ce.a,{className:e.error,severity:"error",children:a}),Object(v.jsxs)("form",{className:e.form,onSubmit:k,children:[Object(v.jsxs)(Ve.a,{container:!0,spacing:2,children:[Object(v.jsx)(Ve.a,{item:!0,xs:12,children:Object(v.jsx)(Le.a,{variant:"outlined",required:!0,fullWidth:!0,id:"username",label:"Username",name:"username",value:d,onChange:y,autoComplete:"username"})}),Object(v.jsx)(Ve.a,{item:!0,xs:12,children:Object(v.jsx)(Le.a,{variant:"outlined",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",value:m,onChange:y,autoComplete:"email"})}),Object(v.jsx)(Ve.a,{item:!0,xs:12,children:Object(v.jsx)(Le.a,{variant:"outlined",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",value:u,onChange:y,autoComplete:"current-password"})})]}),Object(v.jsx)(ue.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit,disabled:f,children:f?"Loading...":"Register"}),Object(v.jsx)(Ve.a,{container:!0,children:Object(v.jsx)(Ve.a,{item:!0,children:Object(v.jsx)(st.a,{href:"/signin",variant:"body2",children:"Already have an account? Sign in"})})})]})]})]})})},jt=n(135),bt=n.n(jt),pt=n(136),Ot=n.n(pt),xt=n(137),ht=n.n(xt),gt=n(138),ft=n.n(gt),vt=(n(177),function(){return Object(v.jsx)(T,{children:Object(v.jsx)(j.a,{children:Object(v.jsxs)(p.a,{children:[Object(v.jsx)(Xe,{}),Object(v.jsx)(b.a,{exact:!0,path:"/",component:Ye}),Object(v.jsx)(b.a,{exact:!0,path:"/login",component:lt}),Object(v.jsx)(b.a,{exact:!0,path:"/register",component:ut}),Object(v.jsx)(b.a,{exact:!0,path:"/post",component:ot}),Object(v.jsx)(b.a,{exact:!0,path:"/posts/:postId",component:$e}),Object(v.jsx)(b.a,{exact:!0,path:"/chat",component:bt.a}),Object(v.jsx)(b.a,{exact:!0,path:"/profile",component:Ot.a}),Object(v.jsx)(b.a,{exact:!0,path:"/userSearch",component:ft.a}),Object(v.jsx)(b.a,{exact:!0,path:"/follow",component:ht.a})]})})})}),yt=Object(s.a)({uri:"http://localhost:3001/graphql"}),Ct=Object(u.a)((function(){var e=localStorage.getItem("token");return{headers:{Authorization:e?"Bearer ".concat(e):""}}})),kt=new l.a({link:Ct.concat(yt),cache:new d.a});i.a.render(Object(v.jsx)(m.a,{client:kt,children:Object(v.jsx)(vt,{})}),document.getElementById("root")),a()},87:function(e,t){}},[[179,1,2]]]);
//# sourceMappingURL=main.b1d072bf.chunk.js.map